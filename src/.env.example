# ============================================================================
# PHASE 3 PATENT INTELLIGENCE SYSTEM - ENVIRONMENT CONFIGURATION
# ============================================================================
# This file contains configuration values for Phase 3 implementation.
#
# SECURITY CRITICAL: Before deploying to production, you MUST:
#   1. Copy this file to src/.env
#   2. Generate a new SECRET_KEY using: openssl rand -hex 32
#   3. Change all passwords and sensitive values
#   4. Update model paths and API configurations
#
# Using these example values in production is a SECURITY RISK.
# ============================================================================

# ------------- Application Settings -------------
APP_NAME="Patent Intelligence System"
APP_DESCRIPTION="AI-Powered Patent Intelligence Backend"
APP_VERSION="3.0.0"
CONTACT_NAME="Patent Intelligence Team"
CONTACT_EMAIL="support@patentintelligence.local"
LICENSE_NAME="MIT"

# ------------- Environment Configuration -------------
ENVIRONMENT="local"  # local, staging, production

# ------------- Database Configuration (PostgreSQL Only) -------------
POSTGRES_USER="patent_user"
POSTGRES_PASSWORD="patent_dev_password_123"
POSTGRES_SERVER="localhost"
POSTGRES_PORT=5432
POSTGRES_DB="patent_intelligence"
POSTGRES_ASYNC_PREFIX="postgresql+asyncpg://"

# ------------- Phase 3: Local LLM Configuration -------------
# Model selection and loading
LLM_MODEL_NAME="microsoft/DialoGPT-large"
LLM_MODEL_CACHE_DIR="./models"
LLM_DEVICE="cuda"
LLM_QUANTIZATION="4bit"  # none, 4bit, 8bit
LLM_MAX_NEW_TOKENS=512
LLM_TEMPERATURE=0.7
LLM_BATCH_SIZE=4
LLM_MAX_MEMORY_GB=40

# ------------- Phase 3: RAG Infrastructure -------------
# Embedding and vector search configuration
EMBEDDING_MODEL_NAME="sentence-transformers/all-MiniLM-L6-v2"
EMBEDDING_DIMENSION=384
VECTOR_INDEX_TYPE="hnsw"  # hnsw, ivf, flat
SIMILARITY_THRESHOLD=0.7
MAX_RETRIEVAL_RESULTS=10
EMBEDDING_BATCH_SIZE=32

# ------------- Phase 3: OCR Processing -------------
# OCR engine and diagram processing
TESSERACT_PATH="tesseract"
OCR_LANGUAGE="eng"
OCR_CONFIDENCE_THRESHOLD=0.6
OCR_MAX_IMAGE_SIZE_MB=50
DIAGRAM_HASH_THRESHOLD=0.9
DIAGRAM_SIMILARITY_THRESHOLD=0.85

# ------------- Phase 3: HITL Task Configuration -------------
# Human-in-the-loop task management
HITL_TASK_TIMEOUT_HOURS=24
HITL_ESCALATION_THRESHOLD_HOURS=48
HITL_MAX_RETRY_ATTEMPTS=3
HITL_BATCH_SIZE=10
HITL_AUTO_ASSIGN=true

# ------------- Phase 3: Corpus Management -------------
# Corpus isolation and access control
CORPUS_ISOLATION_STRICT=true
CORPUS_MAX_DOCUMENTS=10000
CORPUS_ACCESS_LOG_RETENTION_DAYS=365
CORPUS_VIOLATION_ALERT=true

# ------------- Phase 3: Logging Configuration -------------
# Audit trails and performance monitoring
LOG_LEVEL="INFO"
LOG_TO_DATABASE=true
LOG_RETENTION_DAYS=90
AUDIT_LOG_RETENTION_DAYS=2555  # 7 years for compliance
PERFORMANCE_LOG_ENABLED=true
SENSITIVE_DATA_REDACTION=true

# ------------- Phase 3: Performance Settings -------------
# System performance and resource management
API_RESPONSE_TIMEOUT_SECONDS=30
DOCUMENT_PROCESSING_WORKERS=4
CONCURRENT_AGENT_REQUESTS=8
MEMORY_MONITOR_THRESHOLD_PERCENT=85

# ------------- CORS Configuration -------------
CORS_ORIGINS=["http://localhost:3000", "http://localhost:8000"]
CORS_METHODS=["GET", "POST", "PUT", "DELETE"]
CORS_HEADERS=["*"]

# ------------- Development Settings (Local Environment Only) -------------
# These settings are for development and should be changed for production

# Database echo for development (logs all SQL queries)
DATABASE_ECHO=false

# API Documentation (disabled in production)
OPENAPI_URL="/openapi.json"
DOCS_URL="/docs"
REDOC_URL="/redoc"

# ============================================================================
# PRODUCTION DEPLOYMENT NOTES
# ============================================================================
#
# For production deployment:
# 1. Set ENVIRONMENT="production"
# 2. Generate secure SECRET_KEY: openssl rand -hex 32
# 3. Use strong database passwords (minimum 16 characters)
# 4. Set appropriate CORS_ORIGINS for your domain
# 5. Consider custom ports for POSTGRES_PORT for security
# 6. Disable DATABASE_ECHO, DOCS_URL, REDOC_URL
# 7. Set appropriate LOG_LEVEL="WARNING" or "ERROR"
# 8. Configure appropriate retention policies for your compliance requirements
# 9. Set LLM_DEVICE based on your production hardware (cuda/cpu)
# 10. Adjust memory and performance settings based on production resources
#
# ============================================================================